---
type Props = {
  isLoggedIn: boolean
}

const { isLoggedIn } = Astro.props
---

{
  isLoggedIn ? (
    <div x-data="{open(){$refs.dialog.showModal()}, close(){$refs.dialog.close()}}">
      <dialog id="modal" x-ref="dialog" class="relative">
        <div class="fixed grid place-items-center inset-0 bg-black bg-opacity-70">
          <div class="flex flex-col justify-between bg-white w-[60%] h-[60%] py-16 px-20 rounded-xl">
            <div>
              <h2 class="text-3xl">Logout</h2>
              <p class="mt-10">Required fields are missing.</p>
            </div>
            <div class="text-center">
              <button
                type="button"
                hx-post="/api/logut"
                hx-trigger="click"
                hx-target="#modal"
                hx-swap="outerHTML"
                class="px-8 py-2 border-2 border-gray-500 rounded-2xl hover:opacity-70"
              >
                Close
              </button>
            </div>
          </div>
        </div>
      </dialog>
      <button @click="open()">Logout</button>
    </div>
  ) : (
    <a href="/login">Login</a>
  )
}
